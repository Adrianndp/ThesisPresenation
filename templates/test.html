{% extends "base.html" %}
{% block content %}
 <h2>Drag'n Drop Example</h2>
  <div class="row">
    <div class="col-md-6">
      <h4>Draggable Items</h4>
      <div id="draggable-items" class="list-group">
        <div class="list-group-item draggable-item" draggable="true" data-value="1">Item 1</div>
        <div class="list-group-item draggable-item" draggable="true" data-value="2">Item 2</div>
        <div class="list-group-item draggable-item" draggable="true" data-value="3">Item 3</div>
      </div>
    </div>
    <div class="col-md-6">
      <h4>Droppable Area</h4>
      <div id="droppable-area" class="droppable-area" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    </div>
  </div>

<style>
    .draggable-item {
      cursor: move;
    }
    .droppable-area {
      min-height: 100px;
      border: 2px dashed #007bff;
      margin-top: 20px;
      padding: 10px;
    }
</style>

<script>
    $('.drag').draggable({
  appendTo: 'body',
  helper: 'clone'
});

$('#dropzone').droppable({
  activeClass: 'active',
  hoverClass: 'hover',
  accept: ":not(.ui-sortable-helper)", // Reject clones generated by sortable
  drop: function (e, ui) {
    var $el = $('<div class="drop-item"><details><summary>' + ui.draggable.text() + '</summary><div><label>More Data</label><input type="text" /></div></details></div>');
    $el.append($('<button type="button" class="btn btn-default btn-xs remove"><span class="glyphicon glyphicon-trash"></span></button>').click(function () { $(this).parent().detach(); }));
    $(this).append($el);
  }
}).sortable({
  items: '.drop-item',
  sort: function() {
    // gets added unintentionally by droppable interacting with sortable
    // using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options
    $( this ).removeClass( "active" );
  }
});
</script>
{% endblock %}